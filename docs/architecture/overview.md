# Обзор архитектуры Neuro-Link Assistant

## Архитектурная концепция

Neuro-Link Assistant построен на принципах модульной архитектуры с четким разделением ответственности между компонентами. Система спроектирована для оркестрации различных моделей искусственного интеллекта и автоматизации задач в Windows.

## Основные архитектурные принципы

- **Модульность**: Система разделена на независимые компоненты, каждый с четко определенной ответственностью
- **Инверсия зависимостей**: Компоненты зависят от абстракций, а не от конкретных реализаций
- **Платформенная изоляция**: Платформенно-зависимый код изолирован от основной логики
- **Расширяемость**: Архитектура поддерживает расширение через плагины и новые компоненты

## Высокоуровневая структура

```
┌─────────────────────────────────────────────┐
│                 Клиент                      │
└────────────────────┬────────────────────────┘
                     │
┌────────────────────▼────────────────────────┐
│                Ядро системы                 │
│  ┌────────────┐  ┌────────────┐  ┌────────┐ │
│  │   Реестр   │  │  Система   │  │ Задачи │ │
│  │ компонентов│  │            │  │        │ │
│  └─────┬──────┘  └──────┬─────┘  └───┬────┘ │
└─────────┬───────────────┬────────────┬──────┘
          │               │            │
┌─────────▼───┐    ┌──────▼────┐   ┌──▼───────┐
│  Файловая   │    │ Подсистема│   │Компьютер.│
│ подсистема  │    │   ввода   │   │  зрение  │
└─────────────┘    └───────────┘   └──────────┘
```

## Ключевые компоненты

- **System**: Основной класс, предоставляющий API для работы с системой
- **ComponentRegistry**: Центральный реестр для регистрации и поиска компонентов
- **SystemInitializer**: Отвечает за инициализацию системы и загрузку компонентов
- **Task**: Представляет задачу для выполнения системой

## Основные подсистемы

- **Файловая подсистема**: Операции с файлами и директориями
- **Подсистема ввода**: Эмуляция клавиатуры и мыши
- **Компьютерное зрение**: Анализ экрана и распознавание элементов
- **Веб-подсистема**: Взаимодействие с браузерами и веб-страницами
- **LLM-подсистема**: Интеграция с языковыми моделями

## Структура каталогов

```
core/
├── common/                  # Общие компоненты и абстракции
│   ├── error_handler.py
│   ├── filesystem/          # Абстракции файловой системы
│   ├── input/               # Абстракции ввода
│   └── registry/            # Компоненты реестра
│
├── platform/                # Платформенно-зависимый код
│   └── windows/             # Реализации для Windows
│
├── system.py                # Основной класс системы
├── system_initializer.py    # Инициализатор системы
├── task.py                  # Классы задач
└── plugin_manager.py        # Управление плагинами
```

## Поток данных

1. **Инициализация**: System создается через SystemInitializer, который регистрирует базовые компоненты
2. **Создание задачи**: Клиент создает задачу через System.create_task()
3. **Выполнение**: Task использует необходимые компоненты из реестра для выполнения
4. **Результат**: Task возвращает результат выполнения клиенту

## Расширяемость

Система может быть расширена несколькими способами:
- Регистрация новых компонентов в реестре
- Создание новых типов задач
- Разработка плагинов через менеджер плагинов
- Добавление новых подсистемs
