{% extends "base.html" %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ - Neuro Link Assistant{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1><i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
        <p class="page-description">–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã</p>
    </div>

    <div class="settings-container">
        <!-- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="settings-section">
            <h3><i class="fas fa-sliders-h"></i> –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="setting-item">
                <label for="app-theme">–¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</label>
                <select id="app-theme" name="theme">
                    <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
                    <option value="dark">–¢–µ–º–Ω–∞—è</option>
                    <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="app-language">–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:</label>
                <select id="app-language" name="language">
                    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                    <option value="en">English</option>
                </select>
            </div>
        </div>

        <!-- AI-–º–æ–¥–µ–ª–∏ (–ù–û–í–ê–Ø –°–ï–ö–¶–ò–Ø) -->
        <div class="settings-section">
            <h3><i class="fas fa-robot"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AI-–º–æ–¥–µ–ª—è–º–∏</h3>
            <div class="ai-models-container">
                <div class="setting-item">
                    <label for="current-model">–¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å:</label>
                    <select id="current-model" name="current-model">
                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                        <option value="distilgpt2">DistilGPT-2</option>
                        <option value="llama-2-7b">Llama 2 (7B)</option>
                        <option value="mistral-7b">Mistral 7B</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="model-temperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</label>
                    <input type="range" id="model-temperature" min="0.1" max="2.0" step="0.1" value="0.7">
                    <span class="setting-value">0.7</span>
                </div>
                <div class="setting-item">
                    <label for="max-tokens">–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤:</label>
                    <input type="number" id="max-tokens" min="10" max="2000" value="100">
                </div>
                <div class="setting-item">
                    <button type="button" class="btn btn-primary" id="test-model-btn">
                        üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å
                    </button>
                    <button type="button" class="btn btn-secondary" id="refresh-models-btn">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
                    </button>
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="settings-section">
            <h3><i class="fas fa-bell"></i> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-notifications" checked>
                    –í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                </label>
            </div>
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="sound-notifications">
                    –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                </label>
            </div>
        </div>

        <!-- API –∫–ª—é—á–∏ -->
        <div class="settings-section">
            <h3><i class="fas fa-key"></i> API –∫–ª—é—á–∏</h3>
            <div class="setting-item">
                <label for="huggingface-token">HuggingFace Token:</label>
                <input type="password" id="huggingface-token" name="huggingface-token"
                       placeholder="–í–≤–µ–¥–∏—Ç–µ HuggingFace —Ç–æ–∫–µ–Ω">
                <button type="button" class="btn btn-sm btn-secondary" id="toggle-token-visibility">
                    üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å
                </button>
            </div>
            <div class="setting-item">
                <label for="openai-key">OpenAI API Key:</label>
                <input type="password" id="openai-key" name="openai-key"
                       placeholder="–í–≤–µ–¥–∏—Ç–µ OpenAI API –∫–ª—é—á">
            </div>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è -->
        <div class="settings-section">
            <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –∏ –¥–∞–Ω–Ω—ã–µ</h3>
            <div class="setting-item">
                <label for="history-limit">–ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏–∏:</label>
                <input type="number" id="history-limit" min="10" max="1000" value="100">
            </div>
            <div class="setting-item">
                <button type="button" class="btn btn-warning" id="clear-history-btn">
                    üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                </button>
                <button type="button" class="btn btn-info" id="export-data-btn">
                    üíæ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
            </div>
        </div>

        <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="settings-section">
            <h3><i class="fas fa-user-cog"></i> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="setting-item">
                <label>
                    <input type="checkbox" id="auto-save-settings" checked>
                    –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
                </label>
            </div>
            <div class="setting-item">
                <label for="default-timeout">–¢–∞–π–º–∞—É—Ç –∫–æ–º–∞–Ω–¥ (—Å–µ–∫):</label>
                <input type="number" id="default-timeout" min="5" max="300" value="30">
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="settings-actions">
            <button type="button" class="btn btn-success" id="save-settings-btn">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
            <button type="button" class="btn btn-secondary" id="reset-settings-btn">
                üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∫ —É–º–æ–ª—á–∞–Ω–∏—é
            </button>
        </div>
    </div>
</div>

<style>
.settings-container {
    max-width: 800px;
    margin: 0 auto;
}

.settings-section {
    background: var(--card-bg, #ffffff);
    border: 1px solid var(--border-color, #e0e0e0);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.settings-section h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--primary-color, #2c3e50);
    display: flex;
    align-items: center;
    gap: 8px;
}

.setting-item {
    margin-bottom: 15px;
}

.setting-item:last-child {
    margin-bottom: 0;
}

.setting-item label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: var(--text-color, #333);
}

.setting-item input,
.setting-item select {
    width: 100%;
    max-width: 300px;
    padding: 8px 12px;
    border: 1px solid var(--border-color, #ddd);
    border-radius: 4px;
    font-size: 14px;
}

.setting-item input[type="checkbox"] {
    width: auto;
    margin-right: 8px;
}

.setting-item input[type="range"] {
    width: 200px;
}

.setting-value {
    margin-left: 10px;
    font-weight: bold;
    color: var(--primary-color, #2c3e50);
}

.settings-actions {
    text-align: center;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid var(--border-color, #e0e0e0);
}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin: 0 10px;
    text-decoration: none;
    display: inline-block;
}

.btn-primary { background: #007bff; color: white; }
.btn-secondary { background: #6c757d; color: white; }
.btn-success { background: #28a745; color: white; }
.btn-warning { background: #ffc107; color: #212529; }
.btn-info { background: #17a2b8; color: white; }
.btn-sm { padding: 5px 10px; font-size: 12px; }

.btn:hover {
    opacity: 0.9;
    transform: translateY(-1px);
}
</style>
{% endblock %}
